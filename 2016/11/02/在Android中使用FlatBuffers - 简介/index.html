<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹ | WolfcsTech</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2.0"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=1.2.0"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹</h1><a id="logo" href="/.">WolfcsTech</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹</h1><div class="post-meta">Nov 2, 2016<span> | </span><span class="category"><a href="/categories/Androidå¼€å‘/">Androidå¼€å‘</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/11/02/åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹/" href="/2016/11/02/åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹/#comments" class="ds-thread-count"></a><div class="post-content"><p>JSON - å¯èƒ½æ¯ä¸ªäººéƒ½çŸ¥é“è¿™ä¸ªè½»é‡çš„æ•°æ®æ ¼å¼å‡ ä¹è¢«ç”¨åœ¨äº†æ‰€æœ‰çš„ç°ä»£æœåŠ¡å™¨ä¸­ã€‚ç›¸å¯¹äºè¿‡å»æµè¡Œçš„ä¸€äº›ä¸œè¥¿ï¼Œå¦‚å¯æ€•çš„XMLï¼Œå®ƒæ›´è½»é‡ï¼Œæ›´å¯è¯»ï¼Œå¯¹å¼€å‘æ›´å‹å¥½ã€‚JSONæ˜¯è¯­è¨€ç‹¬ç«‹çš„æ•°æ®æ ¼å¼ï¼Œä½†è§£æå’Œæ ¼å¼è½¬åŒ–ï¼Œæ¯”å¦‚è½¬ä¸ºJavaå¯¹è±¡ï¼Œè€—è´¹äº†æˆ‘ä»¬çš„æ—¶é—´å’Œå†…å­˜èµ„æºã€‚</p>
<p>å‡ å¤©ä»¥å‰ï¼ŒFacebookå®£å¸ƒï¼Œåœ¨å®ƒçš„Android appä¸­çš„æ•°æ®å¤„ç†éƒ¨åˆ†è·å¾—äº†å·¨å¤§çš„æ€§èƒ½æå‡ã€‚é‚£ä¸ å‡ ä¹åœ¨æ•´ä¸ªappä¸­ä¸¢å¼ƒJSONæ ¼å¼ï¼Œè€Œç”¨FlatBuffersä»£æ›¿æœ‰å…³ã€‚è¯·å‚è€ƒ<a href="https://code.facebook.com/posts/872547912839369/improving-facebook-s-performance-on-android-with-flatbuffers/" target="_blank" rel="external">è¿™ç¯‡æ–‡ç« </a>æ¥äº†è§£ä¸€äº›å…³äºFlatBuffersçš„åŸºæœ¬çŸ¥è¯†ï¼Œä»¥åŠä»JSONè½¬æ¢åˆ°å®ƒçš„ç»“æœã€‚</p>
<a id="more"></a>
<p>å°½ç®¡ç»“æœçœ‹ä¸Šå»éå¸¸å¥½ï¼Œä½†ä¹ä¸€çœ‹å®ç°æ–¹å¼ä¸æ˜¯ç‰¹åˆ«æ˜æ˜¾ã€‚Facebookä¹Ÿæ²¡æœ‰è¯´å¤ªå¤šã€‚é‚£ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘æƒ³åœ¨è¿™ç¯‡æ–‡ç« ä¸­å±•ç¤ºæˆ‘ä»¬å¯ä»¥å¦‚ä½•ä½¿ç”¨FlatBuffersã€‚</p>
<h1 id="FlatBuffers"><a href="#FlatBuffers" class="headerlink" title="FlatBuffers"></a>FlatBuffers</h1><p>ç®€å•åœ°è¯´ï¼ŒFlatBuffersæ˜¯Googleçš„ä¸€ä¸ªè·¨å¹³å°åºåˆ—åŒ–åº“ï¼Œç‰¹åˆ«ä¸ºæ¸¸æˆå¼€å‘åˆ›å»ºä»¥åŠï¼Œå¦‚Facebookæ‰€å±•ç¤ºçš„é‚£æ ·ï¼Œéµå¾ªAndroidä¸­çš„æµç•…çš„åŠå“åº”å¼UIçš„16msè§„åˆ™ã€‚</p>
<p><em>ä½†æ˜¯æ³¨æ„äº†ï¼Œåœ¨ä½ æ‰”æ‰ä¸€åˆ‡ï¼Œå°†ä½ çš„æ‰€æœ‰æ•°æ®è¿ç§»åˆ°FlatBuffersä¹‹å‰ï¼Œè¯·å…ˆç¡®è®¤ä½ éœ€è¦è¿™æ ·åšã€‚æœ‰æ—¶å€™å¯¹æ€§èƒ½çš„å½±å“å°†æ˜¯æå…¶å¾®å°çš„ï¼Œè€Œæœ‰æ—¶å€™æ•°æ®å®‰å…¨æ€§æ¯”è®¡ç®—é€Ÿåº¦ä¸Šå‡ åæ¯«ç§’çš„å·®å¼‚é‡è¦å¾—å¤šã€‚</em></p>
<p>ä»€ä¹ˆä½¿FlatBufferså¦‚æ­¤é«˜æ•ˆï¼Ÿ</p>
<ul>
<li>ç”±äºå¹³å¦çš„äºŒè¿›åˆ¶ç¼“å†²åŒºï¼Œè®¿é—®åºåˆ—åŒ–åçš„æ•°æ®æ—¶æ— éœ€è§£æï¼Œå³ä½¿æ˜¯å¯¹äºå±‚æ¬¡å¼çš„æ•°æ®ã€‚å¤šäºäºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¸éœ€è¦åˆå§‹åŒ–è§£æå™¨ï¼ˆè¿™æ„å‘³ç€æ„é€ å¤æ‚çš„å­—æ®µæ˜ å°„ï¼‰ï¼Œä»¥åŠè§£ææ•°æ®ï¼Œè¿™ä¹Ÿè€—è´¹æ—¶é—´ã€‚</li>
<li>FlatBuffersæ•°æ®ä¸éœ€è¦åˆ†é…å¤šäºç¼“å†²åŒºæœ¬èº«æ‰€ç”¨å¤§å°çš„å†…å­˜ã€‚æˆ‘ä»¬ä¸éœ€è¦åƒåœ¨JSONä¸­é‚£æ ·ï¼Œä¸ºè§£æåçš„å±‚æ¬¡å¼æ•°æ®åˆ†é…é¢å¤–çš„å¯¹è±¡ã€‚</li>
</ul>
<p>è¦è·å–çœŸå®çš„æ•°å­—å¯ä»¥å‚è€ƒå…³äºå‘FlatBuffersè¿ç§»çš„<a href="https://code.facebook.com/posts/872547912839369/improving-facebook-s-performance-on-android-with-flatbuffers/" target="_blank" rel="external">facebookçš„æ–‡ç« </a>ï¼Œæˆ–è€…<a href="http://google.github.io/flatbuffers/" target="_blank" rel="external">Googleæ–‡æ¡£</a>ã€‚</p>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p>è¿™ç¯‡æ–‡ç« å°†æè¿°åœ¨Android appä¸­ä½¿ç”¨FlatBuffersçš„æœ€ç®€å•çš„æ–¹å¼ï¼š</p>
<ul>
<li>åœ¨appä¹‹å¤–çš„<em>æŸä¸ªåœ°æ–¹</em>å°†JSONæ•°æ®è½¬æ¢ä¸ºFlatBUffersæ ¼å¼(æ¯”å¦‚å°†äºŒè¿›åˆ¶æ–‡ä»¶ä»¥æ–‡ä»¶çš„å½¢å¼ä¼ é€ï¼Œæˆ–ç›´æ¥ä»APIè¿”å›)ã€‚</li>
<li>é€šè¿‡flatc (FlatBufferç¼–è¯‘å™¨) æ‰‹åŠ¨äº§ç”Ÿæ•°æ®æ¨¡å‹(Java ç±»)ã€‚</li>
<li>JSONæ–‡ä»¶æœ‰ä¸€äº›é™åˆ¶ (ä¸èƒ½ä½¿ç”¨nullå­—æ®µï¼ŒDataæ ¼å¼è¢«è§£æä¸ºä¸€ä¸ªString)ã€‚</li>
</ul>
<p>å¯èƒ½åœ¨æœªæ¥æˆ‘ä»¬å°†å‡†å¤‡æ›´å¤æ‚çš„æ–¹æ¡ˆã€‚</p>
<h2 id="FlatBuffersç¼–è¯‘å™¨"><a href="#FlatBuffersç¼–è¯‘å™¨" class="headerlink" title="FlatBuffersç¼–è¯‘å™¨"></a>FlatBuffersç¼–è¯‘å™¨</h2><p>é¦–å…ˆæˆ‘ä»¬è¦å…ˆè·å–<strong>flatc</strong> - FlatBuffersç¼–è¯‘å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ä½äºGoogleçš„<a href="https://github.com/google/flatbuffers" target="_blank" rel="external">flatbuffersä»“åº“</a>ä¸­çš„æºä»£ç æ¥æ„å»ºã€‚è®©æˆ‘ä»¬ä¸‹è½½/cloneå®ƒã€‚æ•´ä¸ªçš„æ„å»ºè¿‡ç¨‹åœ¨<a href="https://google.github.io/flatbuffers/md__building.html" target="_blank" rel="external">FlatBuffersæ„å»º</a>æ–‡æ¡£ä¸­æè¿°ã€‚å¦‚æœä½ æ˜¯Macç”¨æˆ·åˆ™ä½ éœ€è¦åšçš„æ˜¯ï¼š</p>
<ol>
<li>æ‰“å¼€ä¸‹è½½çš„ä»£ç ä¸­çš„<code>\{extract directory}\build\XcodeFlatBuffers.xcodeproj</code>è¿™ä¸ªæ–‡ä»¶ã€‚</li>
<li>é€šè¿‡ç‚¹å‡»<strong>Play</strong>æŒ‰é’®æˆ–æŒ‰ä¸‹âŒ˜ +  Ré”®æ¥è¿è¡Œ<strong>flatc</strong> scheme(åº”è¯¥è¢«é€‰ä¸ºé»˜è®¤é€‰é¡¹)ã€‚</li>
<li><strong>flatc</strong>å¯æ‰§è¡Œæ–‡ä»¶å°†å‡ºç°åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•ã€‚</li>
</ol>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨schemaç¼–è¯‘å™¨ï¼ˆä»¥Javaï¼ŒC#ï¼ŒPythonï¼ŒGOå’ŒC++è¯­è¨€ï¼‰æ¥ä¸ºç»™å®šçš„æ¨¡å¼äº§ç”Ÿæ¨¡å‹ç±»ï¼Œä»¥åŠå°†JSONè½¬æ¢ä¸ºFlatBufferäºŒè¿›åˆ¶æ–‡ä»¶äº†ã€‚</p>
<p>##æ¨¡å¼æ–‡ä»¶</p>
<p>ç°åœ¨æˆ‘ä»¬å¿…é¡»è¦å‡†å¤‡æ¨¡å¼æ–‡ä»¶äº†ï¼Œå®ƒå®šä¹‰äº†æˆ‘ä»¬æƒ³è¦ å-/åºåˆ—åŒ– çš„æ•°æ®ç»“æ„ã€‚è¿™ä¸ªæ¨¡å¼å°†è¢«flatcç”¨äºåˆ›å»ºJavaæ¨¡å‹ä»¥åŠä»JSONåˆ°FlatBufferäºŒè¿›åˆ¶æ–‡ä»¶çš„è½¬æ¢ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬çš„JSONæ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼š<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"repos"</span>: [</div><div class="line">    &#123;</div><div class="line">      <span class="string">"id"</span>: <span class="number">27149168</span>,</div><div class="line">      <span class="string">"name"</span>: <span class="string">"acai"</span>,</div><div class="line">      <span class="string">"full_name"</span>: <span class="string">"google/acai"</span>,</div><div class="line">      <span class="string">"owner"</span>: &#123;</div><div class="line">        <span class="string">"login"</span>: <span class="string">"google"</span>,</div><div class="line">        <span class="string">"id"</span>: <span class="number">1342004</span>,</div><div class="line">        ...</div><div class="line">        <span class="string">"type"</span>: <span class="string">"Organization"</span>,</div><div class="line">        <span class="string">"site_admin"</span>: <span class="literal">false</span></div><div class="line">      &#125;,</div><div class="line">      <span class="string">"private"</span>: <span class="literal">false</span>,</div><div class="line">      <span class="string">"html_url"</span>: <span class="string">"https://github.com/google/acai"</span>,</div><div class="line">      <span class="string">"description"</span>: <span class="string">"Testing library for JUnit4 and Guice."</span>,</div><div class="line">      ...</div><div class="line">      <span class="string">"watchers"</span>: <span class="number">21</span>,</div><div class="line">      <span class="string">"default_branch"</span>: <span class="string">"master"</span></div><div class="line">    &#125;,</div><div class="line">    ...</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>repos_json_fragment.json <a href="https://gist.github.com/frogermcs/804af402e444e76bc012#file-repos_json_fragment-json" target="_blank" rel="external">ä½äºGitHub</a></p>
<p>å¯ä»¥åœ¨<a href="https://github.com/frogermcs/FlatBuffs/blob/master/flatbuffers/repos_json.json" target="_blank" rel="external">è¿™é‡Œ</a>è·å–å®Œæ•´çš„ç‰ˆæœ¬ã€‚å®ƒæ˜¯é€šè¿‡è°ƒç”¨å¦‚ä¸‹çš„Github APIæ‰€è·æ•°æ®ç»è¿‡äº†ä¸€ç‚¹ä¿®æ”¹çš„ç‰ˆæœ¬ï¼š<br><a href="https://api.github.com/users/google/repos" target="_blank" rel="external">https://api.github.com/users/google/repos</a>.</p>
<p>ç¼–å†™FlatBufferæ¨¡å¼æ–‡ä»¶çš„<a href="https://google.github.io/flatbuffers/md__schemas.html" target="_blank" rel="external">æ–‡æ¡£</a>éå¸¸å¥½ï¼Œå› è€Œåœ¨è¿™é‡Œæˆ‘å°±ä¸å†æ·±å…¥è¯´æ˜äº†ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ¨¡å¼æ–‡ä»¶ä¹Ÿä¸æ˜¯éå¸¸å¤æ‚ã€‚æˆ‘ä»¬æ‰€è¦åšçš„æ‰€æœ‰äº‹æƒ…å°±æ˜¯åˆ›å»º3ä¸ªè¡¨ï¼š<code>ReposList</code>ï¼Œ<code>Repo</code>å’Œ<code>User</code>ï¼Œå¹¶å®šä¹‰<code>root_type</code>ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ¨¡å¼æ–‡ä»¶çš„é‡è¦éƒ¨åˆ†ï¼š<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">table ReposList &#123;</div><div class="line">    <span class="string">repos :</span> [Repo];</div><div class="line">&#125;</div><div class="line"></div><div class="line">table Repo &#123;</div><div class="line">    <span class="string">id :</span> <span class="keyword">long</span>;</div><div class="line">    <span class="string">name :</span> string;</div><div class="line">    <span class="string">full_name :</span> string;</div><div class="line">    <span class="string">owner :</span> User;</div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="string">labels_url :</span> string (deprecated);</div><div class="line">    <span class="string">releases_url :</span> string (deprecated);</div><div class="line">&#125;</div><div class="line"></div><div class="line">table User &#123;</div><div class="line">    <span class="string">login :</span> string;</div><div class="line">    <span class="string">id :</span> <span class="keyword">long</span>;</div><div class="line">    <span class="string">avatar_url :</span> string;</div><div class="line">    <span class="string">gravatar_id :</span> string;</div><div class="line">    <span class="comment">//...</span></div><div class="line">    <span class="string">site_admin :</span> bool;</div><div class="line">&#125;</div><div class="line"></div><div class="line">root_type ReposList;</div></pre></td></tr></table></figure></p>
<p><a href="repos_schema_fragment.fbs hosted with â¤ by GitHub">repos_schema_fragment.fbs</a> ä½äºGitHub</p>
<p>å®Œæ•´çš„æ¨¡å¼æ–‡ä»¶åœ¨<a href="https://github.com/frogermcs/FlatBuffs/blob/master/flatbuffers/repos_schema.fbs" target="_blank" rel="external">è¿™é‡Œ</a>ã€‚</p>
<h1 id="FlatBuffersæ•°æ®æ–‡ä»¶"><a href="#FlatBuffersæ•°æ®æ–‡ä»¶" class="headerlink" title="FlatBuffersæ•°æ®æ–‡ä»¶"></a>FlatBuffersæ•°æ®æ–‡ä»¶</h1><p>å¾ˆå¥½ï¼Œç°åœ¨æˆ‘ä»¬æ‰€éœ€è¦åšçš„å°±æ˜¯å°†<code>repos_json.json</code>è½¬æ¢ä¸ºFlatBuffersäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶äº§ç”ŸJavaæ¨¡å‹ï¼Œå…¶å¯ä»¥ä»¥Javaå‹å¥½çš„æ–¹å¼è¡¨ç¤ºæˆ‘ä»¬çš„æ•°æ®ï¼ˆè¿™ä¸ªæ“ä½œæ‰€éœ€çš„æ‰€æœ‰çš„æ‰€æœ‰æ–‡ä»¶å¯ä»¥åœ¨æˆ‘ä»¬çš„repository<a href="https://github.com/frogermcs/FlatBuffs/tree/master/flatbuffers" target="_blank" rel="external">è·å–</a>ï¼‰ï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ./flatc -j -<span class="selector-tag">b</span> repos_schema<span class="selector-class">.fbs</span> repos_json.json</div></pre></td></tr></table></figure></p>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œè¿™å°†äº§ç”Ÿå¦‚ä¸‹çš„æ–‡ä»¶ï¼š</p>
<ul>
<li>repos_json.bin (å°†è¢«é‡å‘½åä¸ºrepos_flat.bin)</li>
<li>Repos/Repo.java</li>
<li>Repos/ReposList.java</li>
<li>Repos/User.java</li>
</ul>
<h1 id="Android-app"><a href="#Android-app" class="headerlink" title="Android app"></a>Android app</h1><p>ç°åœ¨è®©æˆ‘ä»¬æ¥åˆ›å»ºæˆ‘ä»¬çš„ç¤ºä¾‹appï¼Œæ¥çœ‹ä¸‹FlatBuffersæ ¼å¼æ˜¯å¦‚ä½•åœ¨å®é™…ä¸­ä½¿ç”¨çš„ã€‚è¿™æ˜¯å®ƒçš„æˆªå±ï¼š<br><img src="https://www.wolfcstech.com/images/1315506-412dbddb94e2d3bd.png" alt="screenshot.png"></p>
<p>ProgressBarå°†ä»…è¢«ç”¨äºå±•ç¤ºä¸æ­£ç¡®çš„æ•°æ®å¤„ç†ï¼ˆåœ¨UIçº¿ç¨‹ä¸­ï¼‰å¯ä»¥å¦‚ä½•å½±å“ç”¨æˆ·ç•Œé¢çš„æµç•…åº¦ã€‚</p>
<p>æˆ‘ä»¬çš„appçš„<code>app/build.gradle</code>æ–‡ä»¶çœ‹èµ·æ¥å¦‚ä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">apply plugin: <span class="string">'com.android.application'</span></div><div class="line">apply plugin: <span class="string">'com.jakewharton.hugo'</span></div><div class="line"></div><div class="line">android &#123;</div><div class="line">    compileSdkVersion <span class="number">22</span></div><div class="line">    buildToolsVersion <span class="string">"23.0.0 rc2"</span></div><div class="line"></div><div class="line">    defaultConfig &#123;</div><div class="line">        applicationId <span class="string">"frogermcs.io.flatbuffs"</span></div><div class="line">        minSdkVersion <span class="number">15</span></div><div class="line">        targetSdkVersion <span class="number">22</span></div><div class="line">        versionCode <span class="number">1</span></div><div class="line">        versionName <span class="string">"1.0"</span></div><div class="line">    &#125;</div><div class="line">    buildTypes &#123;</div><div class="line">        release &#123;</div><div class="line">            minifyEnabled <span class="keyword">false</span></div><div class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">dependencies</span> &#123;</div><div class="line">    <span class="keyword">compile</span> <span class="keyword">fileTree</span>(dir: <span class="string">'libs'</span>, <span class="keyword">include</span>: [<span class="string">'*.jar'</span>])</div><div class="line">    <span class="keyword">compile</span> <span class="string">'com.android.support:appcompat-v7:22.2.1'</span></div><div class="line">    <span class="keyword">compile</span> <span class="string">'com.google.code.gson:gson:2.3.1'</span></div><div class="line">    <span class="keyword">compile</span> <span class="string">'com.jakewharton:butterknife:7.0.1'</span></div><div class="line">    <span class="keyword">compile</span> <span class="string">'io.reactivex:rxjava:1.0.10'</span></div><div class="line">    <span class="keyword">compile</span> <span class="string">'io.reactivex:rxandroid:1.0.0'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å½“ç„¶ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ²¡å¿…è¦ä½¿ç”¨Rxæˆ–ButterKnifeï¼Œä½†ä¸ºä»€ä¹ˆä¸è®©è¿™ä¸ªappæ›´å¥½ä¸€ç‚¹å‘¢ğŸ˜‰ ï¼Ÿ</p>
<p>è®©æˆ‘ä»¬æŠŠrepos_flat.binå’Œrepos_json.jsonæ–‡ä»¶æ”¾åˆ°res/raw/ç›®å½•ä¸‹ã€‚</p>
<p>è¿™é‡Œæ˜¯<a href="https://github.com/frogermcs/FlatBuffs/blob/master/app/src/main/java/frogermcs/io/flatbuffs/utils/RawDataReader.java" target="_blank" rel="external">RawDataReader</a> utilï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬åœ¨Android appä¸­è¯»å–rawæ–‡ä»¶ã€‚</p>
<p>æœ€åï¼ŒæŠŠ<code>Repo</code>ï¼Œ<code>ReposList</code>å’Œ<code>User</code>æ”¾åœ¨é¡¹ç›®æºä»£ç ä¸­çš„æŸä¸ªä½ç½®ã€‚</p>
<p>###FlatBuffersåº“</p>
<p>FlatBuffersæä¾›äº†Javaåº“æ¥åœ¨Javaä¸­ç›´æ¥å¤„ç†è¿™ç§æ•°æ®æ ¼å¼ã€‚è¿™é‡Œæ˜¯ <a href="https://github.com/frogermcs/FlatBuffs/blob/master/app/libs/flatbuffers-java-1.2.0-SNAPSHOT.jar" target="_blank" rel="external">flatbuffers-java-1.2.0-SNAPSHOT.jar</a>æ–‡ä»¶ã€‚å¦‚æœä½ æƒ³è¦æ‰‹åŠ¨äº§ç”Ÿå®ƒï¼Œä½ éœ€è¦ç§»å›åˆ°ä¸‹è½½çš„FlatBuffersæºä»£ç ï¼Œè¿›å…¥<code>java/</code>ç›®å½•ï¼Œå¹¶ä½¿ç”¨Mavenäº§ç”Ÿè¿™ä¸ªåº“ï¼š<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">mvn </span>install</div></pre></td></tr></table></figure></p>
<p>ç°åœ¨æŠŠ.jaræ–‡ä»¶æ”¾åˆ°ä½ çš„Androidå·¥ç¨‹çš„<code>app/libs/</code>ç›®å½•ä¸‹ã€‚</p>
<p>éå¸¸å¥½ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å®ç°<code>MainActivity</code>ç±»ã€‚è¿™æ˜¯å®ƒçš„å®Œæ•´çš„ä»£ç ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Bind</span>(R.id.tvFlat)</div><div class="line">    TextView tvFlat;</div><div class="line">    <span class="meta">@Bind</span>(R.id.tvJson)</div><div class="line">    TextView tvJson;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> RawDataReader rawDataReader;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> ReposListJson reposListJson;</div><div class="line">    <span class="keyword">private</span> ReposList reposListFlat;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        ButterKnife.bind(<span class="keyword">this</span>);</div><div class="line">        rawDataReader = <span class="keyword">new</span> RawDataReader(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@OnClick</span>(R.id.btnJson)</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onJsonClick</span><span class="params">()</span> </span>&#123;</div><div class="line">        rawDataReader.loadJsonString(R.raw.repos_json).subscribe(<span class="keyword">new</span> SimpleObserver&lt;String&gt;() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(String reposStr)</span> </span>&#123;</div><div class="line">                parseReposListJson(reposStr);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">parseReposListJson</span><span class="params">(String reposStr)</span> </span>&#123;</div><div class="line">        <span class="keyword">long</span> startTime = System.currentTimeMillis();</div><div class="line">        reposListJson = <span class="keyword">new</span> Gson().fromJson(reposStr, ReposListJson.class);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; reposListJson.repos.size(); i++) &#123;</div><div class="line">            RepoJson repo = reposListJson.repos.get(i);</div><div class="line">            Log.d(<span class="string">"FlatBuffers"</span>, <span class="string">"Repo #"</span> + i + <span class="string">", id: "</span> + repo.id);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">long</span> endTime = System.currentTimeMillis() - startTime;</div><div class="line">        tvJson.setText(<span class="string">"Elements: "</span> + reposListJson.repos.size() + <span class="string">": load time: "</span> + endTime + <span class="string">"ms"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@OnClick</span>(R.id.btnFlatBuffers)</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFlatBuffersClick</span><span class="params">()</span> </span>&#123;</div><div class="line">        rawDataReader.loadBytes(R.raw.repos_flat).subscribe(<span class="keyword">new</span> SimpleObserver&lt;<span class="keyword">byte</span>[]&gt;() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(<span class="keyword">byte</span>[] bytes)</span> </span>&#123;</div><div class="line">                loadFlatBuffer(bytes);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadFlatBuffer</span><span class="params">(<span class="keyword">byte</span>[] bytes)</span> </span>&#123;</div><div class="line">        <span class="keyword">long</span> startTime = System.currentTimeMillis();</div><div class="line">        ByteBuffer bb = ByteBuffer.wrap(bytes);</div><div class="line">        reposListFlat = frogermcs.io.flatbuffs.model.flat.ReposList.getRootAsReposList(bb);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; reposListFlat.reposLength(); i++) &#123;</div><div class="line">            Repo repos = reposListFlat.repos(i);</div><div class="line">            Log.d(<span class="string">"FlatBuffers"</span>, <span class="string">"Repo #"</span> + i + <span class="string">", id: "</span> + repos.id());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">long</span> endTime = System.currentTimeMillis() - startTime;</div><div class="line">        tvFlat.setText(<span class="string">"Elements: "</span> + reposListFlat.reposLength() + <span class="string">": load time: "</span> + endTime + <span class="string">"ms"</span>);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a href="https://gist.github.com/frogermcs/804af402e444e76bc012#file-mainactivity-java" target="_blank" rel="external">MainActivity.java</a> ä½äº<a href="https://github.com/" target="_blank" rel="external">GitHub</a></p>
<p>æœ€å¸å¼•æˆ‘ä»¬çš„æ–¹æ³•åº”è¯¥æ˜¯è¿™äº›ï¼š</p>
<ul>
<li><code>parseReposListJson(String reposStr)</code> - è¿™ä¸ªæ–¹æ³•åˆå§‹åŒ–Gsonè§£æå™¨å¹¶å°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaå¯¹è±¡ã€‚</li>
<li><code>loadFlatBuffer(byte[] bytes)</code> - è¿™ä¸ªæ–¹æ³•å°†bytesï¼ˆæˆ‘ä»¬çš„ repos_flat.binæ–‡ä»¶ï¼‰è½¬ä¸ºJavaå¯¹è±¡ã€‚</li>
</ul>
<h1 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h1><p>ç°åœ¨è®©æˆ‘ä»¬æ¥å¯è§†åŒ–JSONå’ŒFlatBuffersåŠ è½½æ—¶é—´åŠèµ„æºæ¶ˆè€—çš„å·®åˆ«ã€‚æµ‹è¯•æ˜¯åœ¨å®‰è£…äº†Android M (beta) çš„Nexus 5ä¸Šè¿›è¡Œçš„ã€‚</p>
<h2 id="åŠ è½½æ—¶é—´"><a href="#åŠ è½½æ—¶é—´" class="headerlink" title="åŠ è½½æ—¶é—´"></a>åŠ è½½æ—¶é—´</h2><p>æµ‹é‡çš„æ“ä½œæ˜¯è½¬æ¢Javaæ–‡ä»¶å¹¶è¿­ä»£æ‰€æœ‰çš„ (90 ä¸ª) å…ƒç´ ã€‚</p>
<p>JSON - 200ms (èŒƒå›´ï¼š180ms - 250ms) - æˆ‘ä»¬çš„JSONæ–‡ä»¶çš„å¹³å‡åŠ è½½æ—¶é—´ ï¼ˆå¤§å°ï¼š478kBï¼‰<br>FlatBuffers - 5ms (èŒƒå›´ï¼š3ms - 10ms) - FlatBuffersäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¤§å°ï¼š362kBï¼‰çš„å¹³å‡åŠ è½½æ—¶é—´</p>
<p>è®°å¾—æˆ‘ä»¬çš„<a href="https://www.youtube.com/watch?v=CaMTIgxCSqU" target="_blank" rel="external">16msè§„åˆ™</a>ä¹ˆï¼Ÿå› ä¸ºæˆ‘ä»¬åœ¨UIçº¿ç¨‹ä¸­è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚çœ‹ä¸€ä¸‹åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬çš„ç•Œé¢çš„è¡Œä¸ºå¦‚ä½•ï¼š</p>
<h3 id="JSONåŠ è½½"><a href="#JSONåŠ è½½" class="headerlink" title="JSONåŠ è½½"></a>JSONåŠ è½½</h3><p><img src="https://www.wolfcstech.com/images/1315506-38130dd2acaebf01.png" alt="json.gif"></p>
<h3 id="FlatBufferåŠ è½½"><a href="#FlatBufferåŠ è½½" class="headerlink" title="FlatBufferåŠ è½½"></a>FlatBufferåŠ è½½</h3><p><img src="https://www.wolfcstech.com/images/1315506-98a87c349eb1e6f9.png" alt="Paste_Image.png"></p>
<p>çœ‹åˆ°å·®åˆ«äº†ä¹ˆï¼ŸJsonåŠ è½½çš„ProgressBaråœäº†ä¸€ä¼šå„¿ï¼Œä½¿æˆ‘ä»¬çš„ç•Œé¢å‡ºç°äº†ä¸æ„‰å¿«çš„æƒ…å½¢ï¼ˆæ“ä½œè€—æ—¶è¶…è¿‡äº† 16msï¼‰ã€‚</p>
<h2 id="åˆ†é…ï¼ŒCPUç­‰ç­‰"><a href="#åˆ†é…ï¼ŒCPUç­‰ç­‰" class="headerlink" title="åˆ†é…ï¼ŒCPUç­‰ç­‰"></a>åˆ†é…ï¼ŒCPUç­‰ç­‰</h2><p>æƒ³åšæ›´å¤šåœ°æµ‹è¯•ï¼Ÿè¿™æ—¶å¯èƒ½æ˜¯å°è¯•<a href="http://android-developers.blogspot.com/2015/07/get-your-hands-on-android-studio-13.html" target="_blank" rel="external">Android Studio 1.3</a>å’Œè¯¸å¦‚Allocation Trackerï¼ŒMemory Viewerå’ŒMethod Tracerè¿™æ ·çš„æ–°åŠŸèƒ½çš„å¥½æ—¶æœºã€‚</p>
<h2 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h2><p>è¿™é‡Œæè¿°çš„å·¥ç¨‹çš„å®Œæ•´çš„ä»£ç åœ¨Github <a href="https://github.com/frogermcs/FlatBuffs" target="_blank" rel="external">repository</a>ä¸­ã€‚ä½ ä¸éœ€è¦å¤„ç†FlatBufferså·¥ç¨‹ - ä½ éœ€è¦çš„æ‰€æœ‰ä¸œè¥¿éƒ½åœ¨flatbuffers/ç›®å½•ä¸‹ã€‚</p>
<p><a href="http://frogermcs.github.io/flatbuffers-in-android-introdution/" target="_blank" rel="external">åŸæ–‡åœ°å€</a>ã€‚</p>
</div><div class="tags"><a href="/tags/Androidå¼€å‘/">Androidå¼€å‘</a><a href="/tags/ç¿»è¯‘/">ç¿»è¯‘</a></div><div class="post-nav"><a href="/2016/11/02/ç”¨FlatBuffersæå‡Androidå¹³å°ä¸ŠFacebookçš„æ€§èƒ½/" class="pre">ç”¨FlatBuffersæå‡Androidå¹³å°ä¸ŠFacebookçš„æ€§èƒ½</a><a href="/2016/10/29/Cronet_android_altsvc/" class="next">Cronet android è®¾è®¡ä¸å®ç°åˆ†æâ€”â€”å¤‡é€‰æœåŠ¡æœºåˆ¶</a></div><div data-thread-key="2016/11/02/åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹/" data-title="åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹" data-url="https://www.wolfcstech.com/2016/11/02/åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">åˆ†äº«åˆ°:</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">å¾®åš</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQç©ºé—´</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">è…¾è®¯å¾®åš</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">å¾®ä¿¡</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/11/02/åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹/" data-title="åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹" data-url="https://www.wolfcstech.com/2016/11/02/åœ¨Androidä¸­ä½¿ç”¨FlatBuffers - ç®€ä»‹/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="widget"><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="è¯·è¾“å…¥å…³é”®å­—..."/></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Androidå¼€å‘/">Androidå¼€å‘</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C-å¼€å‘/">C/C++å¼€å‘</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Javaå¼€å‘/">Javaå¼€å‘</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/åå°å¼€å‘/">åå°å¼€å‘</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®‰å…¨/">å®‰å…¨</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç½‘ç»œåè®®/">ç½‘ç»œåè®®</a><span class="category-list-count">34</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç½‘ç»œè°ƒè¯•/">ç½‘ç»œè°ƒè¯•</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/éšæƒ³æ‚è°ˆ/">éšæƒ³æ‚è°ˆ</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/ç½‘ç»œè°ƒè¯•/" style="font-size: 15px;">ç½‘ç»œè°ƒè¯•</a> <a href="/tags/ç½‘ç»œåè®®/" style="font-size: 15px;">ç½‘ç»œåè®®</a> <a href="/tags/Androidå¼€å‘/" style="font-size: 15px;">Androidå¼€å‘</a> <a href="/tags/åå°å¼€å‘/" style="font-size: 15px;">åå°å¼€å‘</a> <a href="/tags/QUIC/" style="font-size: 15px;">QUIC</a> <a href="/tags/chromium/" style="font-size: 15px;">chromium</a> <a href="/tags/ç¿»è¯‘/" style="font-size: 15px;">ç¿»è¯‘</a> <a href="/tags/æºç åˆ†æ/" style="font-size: 15px;">æºç åˆ†æ</a> <a href="/tags/HTTP2/" style="font-size: 15px;">HTTP2</a> <a href="/tags/Javaå¼€å‘/" style="font-size: 15px;">Javaå¼€å‘</a> <a href="/tags/OpenGL/" style="font-size: 15px;">OpenGL</a> <a href="/tags/UDT/" style="font-size: 15px;">UDT</a> <a href="/tags/å®‰å…¨/" style="font-size: 15px;">å®‰å…¨</a> <a href="/tags/HTTPS/" style="font-size: 15px;">HTTPS</a> <a href="/tags/C-C-å¼€å‘/" style="font-size: 15px;">C/C++å¼€å‘</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-fei"> å½’æ¡£</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">äºŒæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">ä¸€æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">åäºŒæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">åä¸€æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">åæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">å…«æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">ä¸ƒæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">å››æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">ä¹æœˆ 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">ä¸ƒæœˆ 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">ä¹æœˆ 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">ä¸ƒæœˆ 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">äº”æœˆ 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">äºŒæœˆ 2013</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> æœ€æ–°æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/02/24/Networking_optimization_study/">ç½‘ç»œä¼˜åŒ–å®è·µæ¢ç´¢æ–‡ç« </a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/OkHttpå®ç°åˆ†æä¹‹Websocket/">OkHttpå®ç°åˆ†æä¹‹Websocket</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/22/introduction_to_android_things/">Android Thingsä»‹ç»</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/21/Simpleperf_Introduction/">Simpleperfä»‹ç»</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/Wiresharkæºç å®‰è£…/">Wiresharkæºç å®‰è£…</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/09/Androidå¹³å°Chromium netä¸­çš„ä»£ç†é…ç½®ä¿¡æ¯è·å–/">Androidå¹³å°Chromium netä¸­çš„ä»£ç†é…ç½®ä¿¡æ¯è·å–</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/06/Androidç«¯æ‰“å¼€HttpDnsçš„æ­£ç¡®å§¿åŠ¿/">Androidç«¯æ‰“å¼€HttpDnsçš„æ­£ç¡®å§¿åŠ¿</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/05/è™¹æ¡¥ç«è½¦ç«™çš„å«ç”Ÿé—´/">è™¹æ¡¥ç«è½¦ç«™çš„å«ç”Ÿé—´</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/05/åšè‡ªå·±å–œæ¬¢çš„äº‹/">åšè‡ªå·±å–œæ¬¢çš„äº‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/24/QUICåŠHTTP2ç›¸å…³èµ„æ–™æ•´ç†/">QUICåŠHTTP2ç›¸å…³èµ„æ–™æ•´ç†</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-commt"> æœ€è¿‘è¯„è®º</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div></div></div></div><a id="totop" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.2.0" async></script><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">ç½‘ç«™åœ°å›¾</a> |<a href="/atom.xml">è®¢é˜…æœ¬ç«™</a> |<span>è”ç³»åšä¸»ï¼š<a href="mailto:hanpfei@gmail.com" target="_blank" class="fa fa-email"> </a><a href="null" target="_blank" class="fa fa-weibo"></a><a href="https://github.com/hanpfei" target="_blank" class="fa fa-github"> </a></span></p><p><span> Copyright &copy;<a href="/." rel="nofollow">Han Pengfei</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span><span><a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> Theme </a>by<a rel="nofollow" target="_blank" href="https://github.com/chaooo"> Charles.</a></span></p></div></div></div><script>var duoshuoQuery = {short_name:'wolfcstech'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    document.getElementsByTagName('body')[0].appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.json.js?v=1.2.0"></script></body></html>